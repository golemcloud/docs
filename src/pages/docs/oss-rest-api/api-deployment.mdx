# Api Deployment API

## Creates or updates a deployment

| Path                         | Method | Protected |
| ---------------------------- | ------ | --------- |
| `/v1/api/deployments/deploy` | POST   | No        |

Deploys a set of API definitions to a site (specific host and subdomain).

**Example Request JSON**

```json copy
{
  "apiDefinitions": [
    {
      "id": "string",
      "version": "string"
    }
  ],
  "site": {
    "host": "string",
    "subdomain": "string"
  }
}
```

**Example Response JSON**

```json copy
{
  "apiDefinitions": [
    {
      "id": "string",
      "version": "string"
    }
  ],
  "site": {
    "host": "string",
    "subdomain": "string"
  }
}
```

## Get one or more API deployments

| Path                  | Method | Protected |
| --------------------- | ------ | --------- |
| `/v1/api/deployments` | GET    | No        |

If `api-definition-id` is not set, it lists all API deployments.
If `api-definition-id` is set, returns a single API deployment.

**Query Parameters**

| Name              | Type   | Required | Description |
| ----------------- | ------ | -------- | ----------- |
| api-definition-id | string | Yes      | -           |

**Example Response JSON**

```json copy
[
  {
    "apiDefinitions": [
      {
        "id": "string",
        "version": "string"
      }
    ],
    "site": {
      "host": "string",
      "subdomain": "string"
    }
  }
]
```

## Get API deployment by site

| Path                         | Method | Protected |
| ---------------------------- | ------ | --------- |
| `/v1/api/deployments/{site}` | GET    | No        |

Gets an API deployment by the host name (optionally with a subdomain) it is deployed to.

**Example Response JSON**

```json copy
{
  "apiDefinitions": [
    {
      "id": "string",
      "version": "string"
    }
  ],
  "site": {
    "host": "string",
    "subdomain": "string"
  }
}
```

## Delete API deployment by site

| Path                         | Method | Protected |
| ---------------------------- | ------ | --------- |
| `/v1/api/deployments/{site}` | DELETE | No        |

Deletes an API deployment by the host name (optionally with a subdomain) it is deployed to.

**Example Response JSON**

```json copy
"string"
```

## Api Deployment API Errors

| Status Code | Description | Body                                      |
| ----------- | ----------- | ----------------------------------------- |
| 400         |             | `{"type":"Messages","errors":["string"]}` |
| 401         |             | `{"error":"string"}`                      |
| 403         |             | `{"error":"string"}`                      |
| 404         |             | `{"error":"string"}`                      |
| 409         |             | `"string"`                                |
| 500         |             | `{"error":"string"}`                      |
